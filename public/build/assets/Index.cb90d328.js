import{J as L,a0 as U,B as k,I as t,k as T,C as F,D as N,r as _,o as q,e as H,h as p,f as e,w as f,u as v,i as Q,t as S,U as z,l as K,m as X}from"./vendor.cacf1c49.js";import{d as G,b as E}from"./main.caa00acd.js";const Z={class:"grid gap-8 md:grid-cols-12 pt-10"},ee={class:"col-span-8 md:col-span-4"},te={class:"flex flex-col my-6 lg:space-x-3 lg:flex-row"},ae=p("div",{class:"hidden w-5 h-0 mx-4 border border-gray-400 border-solid xl:block",style:{"margin-top":"2.5rem"}},null,-1),oe={class:"col-span-8"},re=["src"],se={setup(j){const{t:g}=L(),Y=G();Y.downloadReport=V;const l=U([{label:g("dateRange.today"),key:"Today"},{label:g("dateRange.this_week"),key:"This Week"},{label:g("dateRange.this_month"),key:"This Month"},{label:g("dateRange.this_quarter"),key:"This Quarter"},{label:g("dateRange.this_year"),key:"This Year"},{label:g("dateRange.previous_week"),key:"Previous Week"},{label:g("dateRange.previous_month"),key:"Previous Month"},{label:g("dateRange.previous_quarter"),key:"Previous Quarter"},{label:g("dateRange.previous_year"),key:"Previous Year"},{label:g("dateRange.custom"),key:"Custom"}]),O=k(l[2]),n=k(["By Customer","By Item"]),b=k("By Customer");let $=k(new Date),w=k(null),a=k(null),D=k(null),o=U({from_date:t().startOf("month").format("YYYY-MM-DD").toString(),to_date:t().endOf("month").format("YYYY-MM-DD").toString()});const s=E(),d=T(()=>w.value),i=T(()=>s.selectedCompany),x=T(()=>`${a.value}?from_date=${t(o.from_date).format("YYYY-MM-DD")}&to_date=${t(o.to_date).format("YYYY-MM-DD")}`),P=T(()=>`${D.value}?from_date=${t(o.from_date).format("YYYY-MM-DD")}&to_date=${t(o.to_date).format("YYYY-MM-DD")}`);F($,r=>{o.from_date=t(r).startOf("year").toString(),o.to_date=t(r).endOf("year").toString()}),N(()=>{a.value=`/reports/sales/customers/${i.value.unique_hash}`,D.value=`/reports/sales/items/${i.value.unique_hash}`,m()});function y(r,c){return t()[r](c).format("YYYY-MM-DD")}function h(r,c){return t().subtract(1,c)[r](c).format("YYYY-MM-DD")}function u(){switch(O.value.key){case"Today":o.from_date=t().format("YYYY-MM-DD"),o.to_date=t().format("YYYY-MM-DD");break;case"This Week":o.from_date=y("startOf","isoWeek"),o.to_date=y("endOf","isoWeek");break;case"This Month":o.from_date=y("startOf","month"),o.to_date=y("endOf","month");break;case"This Quarter":o.from_date=y("startOf","quarter"),o.to_date=y("endOf","quarter");break;case"This Year":o.from_date=y("startOf","year"),o.to_date=y("endOf","year");break;case"Previous Week":o.from_date=h("startOf","isoWeek"),o.to_date=h("endOf","isoWeek");break;case"Previous Month":o.from_date=h("startOf","month"),o.to_date=h("endOf","month");break;case"Previous Quarter":o.from_date=h("startOf","quarter"),o.to_date=h("endOf","quarter");break;case"Previous Year":o.from_date=h("startOf","year"),o.to_date=h("endOf","year");break}}async function m(){return b.value==="By Customer"?(w.value=x.value,!0):(w.value=P.value,!0)}async function W(){let r=await B();return window.open(d.value,"_blank"),r}function B(){return b.value==="By Customer"?(w.value=x.value,!0):(w.value=P.value,!0)}function V(){if(!B())return!1;window.open(d.value+"&download=true"),setTimeout(()=>b.value==="By Customer"?(w.value=x.value,!0):(w.value=P.value,!0),200)}return(r,c)=>{const M=_("BaseMultiselect"),C=_("BaseInputGroup"),I=_("BaseDatePicker"),J=_("BaseButton"),A=_("BaseIcon");return q(),H("div",Z,[p("div",ee,[e(C,{label:r.$t("reports.sales.date_range"),class:"col-span-12 md:col-span-8"},{default:f(()=>[e(M,{modelValue:O.value,"onUpdate:modelValue":[c[0]||(c[0]=R=>O.value=R),u],options:v(l),"value-prop":"key","track-by":"key",label:"label",object:""},null,8,["modelValue","options"])]),_:1},8,["label"]),p("div",te,[e(C,{label:r.$t("reports.sales.from_date")},{default:f(()=>[e(I,{modelValue:v(o).from_date,"onUpdate:modelValue":c[1]||(c[1]=R=>v(o).from_date=R)},null,8,["modelValue"])]),_:1},8,["label"]),ae,e(C,{label:r.$t("reports.sales.to_date")},{default:f(()=>[e(I,{modelValue:v(o).to_date,"onUpdate:modelValue":c[2]||(c[2]=R=>v(o).to_date=R)},null,8,["modelValue"])]),_:1},8,["label"])]),e(C,{label:r.$t("reports.sales.report_type"),class:"col-span-12 md:col-span-8"},{default:f(()=>[e(M,{modelValue:b.value,"onUpdate:modelValue":[c[3]||(c[3]=R=>b.value=R),m],options:n.value,placeholder:r.$t("reports.sales.report_type"),class:"mt-1"},null,8,["modelValue","options","placeholder"])]),_:1},8,["label"]),e(J,{variant:"primary-outline",class:"content-center hidden mt-0 w-md md:flex md:mt-8",type:"submit",onClick:z(B,["prevent"])},{default:f(()=>[Q(S(r.$t("reports.update_report")),1)]),_:1},8,["onClick"])]),p("div",oe,[p("iframe",{src:v(d),class:"hidden w-full h-screen border-gray-100 border-solid rounded md:flex"},null,8,re),p("a",{class:"flex items-center justify-center h-10 px-5 py-1 text-sm font-medium leading-none text-center text-white rounded whitespace-nowrap md:hidden bg-primary-500",onClick:W},[e(A,{name:"DocumentTextIcon",class:"h-5 mr-2"}),p("span",null,S(r.$t("reports.view_pdf")),1)])])])}}},ne={class:"grid gap-8 md:grid-cols-12 pt-10"},le={class:"col-span-8 md:col-span-4"},de={class:"flex flex-col mt-6 lg:space-x-3 lg:flex-row"},ue=p("div",{class:"hidden w-5 h-0 mx-4 border border-gray-400 border-solid xl:block",style:{"margin-top":"2.5rem"}},null,-1),ie={class:"flex flex-col mt-6 lg:space-x-3 lg:flex-row"},ce={class:"col-span-8"},me=["src"],pe={setup(j){const g=G(),Y=E(),{t:l}=L();g.downloadReport=V;const O=U([{label:l("dateRange.today"),key:"Today"},{label:l("dateRange.this_week"),key:"This Week"},{label:l("dateRange.this_month"),key:"This Month"},{label:l("dateRange.this_quarter"),key:"This Quarter"},{label:l("dateRange.this_year"),key:"This Year"},{label:l("dateRange.previous_week"),key:"Previous Week"},{label:l("dateRange.previous_month"),key:"Previous Month"},{label:l("dateRange.previous_quarter"),key:"Previous Quarter"},{label:l("dateRange.previous_year"),key:"Previous Year"},{label:l("dateRange.custom"),key:"Custom"}]),n=k(["By Category","By Item"]),b=k("By Category"),$=k(O[2]);let w=k(new Date),a=k(null),D=k(null),o=k(null);const s=U({from_date:t().startOf("month").toString(),to_date:t().endOf("month").toString()}),d=T(()=>a.value),i=T(()=>Y.selectedCompany),x=T(()=>`${D.value}?from_date=${t(s.from_date).format("YYYY-MM-DD")}&to_date=${t(s.to_date).format("YYYY-MM-DD")}`),P=T(()=>`${o.value}?from_date=${t(s.from_date).format("YYYY-MM-DD")}&to_date=${t(s.to_date).format("YYYY-MM-DD")}`);N(()=>{D.value=`/reports/expenses/categories/${i.value.unique_hash}`,o.value=`/reports/expenses/items/${i.value.unique_hash}`,m()}),F(()=>w,r=>{s.from_date=t(r).startOf("year").toString(),s.to_date=t(r).endOf("year").toString()});function y(r,c){return t()[r](c).format("YYYY-MM-DD")}function h(r,c){return t().subtract(1,c)[r](c).format("YYYY-MM-DD")}function u(){switch($.value.key){case"Today":s.from_date=t().format("YYYY-MM-DD"),s.to_date=t().format("YYYY-MM-DD");break;case"This Week":s.from_date=y("startOf","isoWeek"),s.to_date=y("endOf","isoWeek");break;case"This Month":s.from_date=y("startOf","month"),s.to_date=y("endOf","month");break;case"This Quarter":s.from_date=y("startOf","quarter"),s.to_date=y("endOf","quarter");break;case"This Year":s.from_date=y("startOf","year"),s.to_date=y("endOf","year");break;case"Previous Week":s.from_date=h("startOf","isoWeek"),s.to_date=h("endOf","isoWeek");break;case"Previous Month":s.from_date=h("startOf","month"),s.to_date=h("endOf","month");break;case"Previous Quarter":s.from_date=h("startOf","quarter"),s.to_date=h("endOf","quarter");break;case"Previous Year":s.from_date=h("startOf","year"),s.to_date=h("endOf","year");break}}async function m(){return b.value==="By Category"?(a.value=x.value,!0):(a.value=P.value,!0)}async function W(){let r=await B();return window.open(d.value,"_blank"),r}function B(){return b.value==="By Category"?(a.value=x.value,!0):(a.value=P.value,!0)}function V(){if(!B())return!1;window.open(d.value+"&download=true"),setTimeout(()=>{a.value=dateRangeUrl.value},200)}return(r,c)=>{const M=_("BaseMultiselect"),C=_("BaseInputGroup"),I=_("BaseDatePicker"),J=_("BaseButton"),A=_("BaseIcon");return q(),H("div",ne,[p("div",le,[e(C,{label:r.$t("reports.sales.date_range"),class:"col-span-12 md:col-span-8"},{default:f(()=>[e(M,{modelValue:$.value,"onUpdate:modelValue":[c[0]||(c[0]=R=>$.value=R),u],options:v(O),"value-prop":"key","track-by":"key",label:"label",object:""},null,8,["modelValue","options"])]),_:1},8,["label"]),p("div",de,[e(C,{label:r.$t("reports.expenses.from_date")},{default:f(()=>[e(I,{modelValue:v(s).from_date,"onUpdate:modelValue":c[1]||(c[1]=R=>v(s).from_date=R)},null,8,["modelValue"])]),_:1},8,["label"]),ue,e(C,{label:r.$t("reports.expenses.to_date")},{default:f(()=>[e(I,{modelValue:v(s).to_date,"onUpdate:modelValue":c[2]||(c[2]=R=>v(s).to_date=R)},null,8,["modelValue"])]),_:1},8,["label"])]),p("div",ie,[e(C,{label:r.$t("reports.sales.report_type"),class:"col-span-12 md:col-span-8"},{default:f(()=>[e(M,{modelValue:b.value,"onUpdate:modelValue":[c[3]||(c[3]=R=>b.value=R),m],options:n.value,placeholder:r.$t("reports.sales.report_type"),class:"mt-1"},null,8,["modelValue","options","placeholder"])]),_:1},8,["label"])]),e(J,{variant:"primary-outline",class:"content-center hidden mt-0 w-md md:flex md:mt-8",type:"submit",onClick:z(B,["prevent"])},{default:f(()=>[Q(S(r.$t("reports.update_report")),1)]),_:1},8,["onClick"])]),p("div",ce,[p("iframe",{src:v(d),class:"hidden w-full h-screen border-gray-100 border-solid rounded md:flex"},null,8,me),p("a",{class:"flex items-center justify-center h-10 px-5 py-1 text-sm font-medium leading-none text-center text-white rounded whitespace-nowrap md:hidden bg-primary-500 cursor-pointer",onClick:W},[e(A,{name:"DocumentTextIcon",class:"h-5 mr-2"}),p("span",null,S(r.$t("reports.view_pdf")),1)])])])}}},fe={class:"grid gap-8 md:grid-cols-12 pt-10"},_e={class:"col-span-8 md:col-span-4"},ye={class:"flex flex-col mt-6 lg:space-x-3 lg:flex-row"},ve=p("div",{class:"hidden w-5 h-0 mx-4 border border-gray-400 border-solid xl:block",style:{"margin-top":"2.5rem"}},null,-1),be={class:"col-span-8"},ke=["src"],he={setup(j){const g=G(),Y=E(),{t:l}=L();g.downloadReport=h;const O=U([{label:l("dateRange.today"),key:"Today"},{label:l("dateRange.this_week"),key:"This Week"},{label:l("dateRange.this_month"),key:"This Month"},{label:l("dateRange.this_quarter"),key:"This Quarter"},{label:l("dateRange.this_year"),key:"This Year"},{label:l("dateRange.previous_week"),key:"Previous Week"},{label:l("dateRange.previous_month"),key:"Previous Month"},{label:l("dateRange.previous_quarter"),key:"Previous Quarter"},{label:l("dateRange.previous_year"),key:"Previous Year"},{label:l("dateRange.custom"),key:"Custom"}]),n=k(O[2]);let b=k(null),$=k(null),w=k(new Date);const a=U({from_date:t().startOf("month").toString(),to_date:t().endOf("month").toString()}),D=T(()=>b.value),o=T(()=>Y.selectedCompany),s=T(()=>`${$.value}?from_date=${t(a.from_date).format("YYYY-MM-DD")}&to_date=${t(a.to_date).format("YYYY-MM-DD")}`);F(w,u=>{a.from_date=t(u).startOf("year").toString(),a.to_date=t(u).endOf("year").toString()}),N(()=>{$.value=`/reports/profit-loss/${o.value.unique_hash}`,b.value=s.value});function d(u,m){return t()[u](m).format("YYYY-MM-DD")}function i(u,m){return t().subtract(1,m)[u](m).format("YYYY-MM-DD")}function x(){switch(n.value.key){case"Today":a.from_date=t().format("YYYY-MM-DD"),a.to_date=t().format("YYYY-MM-DD");break;case"This Week":a.from_date=d("startOf","isoWeek"),a.to_date=d("endOf","isoWeek");break;case"This Month":a.from_date=d("startOf","month"),a.to_date=d("endOf","month");break;case"This Quarter":a.from_date=d("startOf","quarter"),a.to_date=d("endOf","quarter");break;case"This Year":a.from_date=d("startOf","year"),a.to_date=d("endOf","year");break;case"Previous Week":a.from_date=i("startOf","isoWeek"),a.to_date=i("endOf","isoWeek");break;case"Previous Month":a.from_date=i("startOf","month"),a.to_date=i("endOf","month");break;case"Previous Quarter":a.from_date=i("startOf","quarter"),a.to_date=i("endOf","quarter");break;case"Previous Year":a.from_date=i("startOf","year"),a.to_date=i("endOf","year");break}}async function P(){let u=await y();return window.open(D.value,"_blank"),u}function y(){return b.value=s.value,!0}function h(){!y(),window.open(D.value+"&download=true"),setTimeout(()=>{b.value=s.value},200)}return(u,m)=>{const W=_("BaseMultiselect"),B=_("BaseInputGroup"),V=_("BaseDatePicker"),r=_("BaseButton"),c=_("BaseIcon");return q(),H("div",fe,[p("div",_e,[e(B,{label:u.$t("reports.profit_loss.date_range"),class:"col-span-12 md:col-span-8"},{default:f(()=>[e(W,{modelValue:n.value,"onUpdate:modelValue":[m[0]||(m[0]=M=>n.value=M),x],options:v(O),"value-prop":"key","track-by":"key",label:"label",object:""},null,8,["modelValue","options"])]),_:1},8,["label"]),p("div",ye,[e(B,{label:u.$t("reports.profit_loss.from_date")},{default:f(()=>[e(V,{modelValue:v(a).from_date,"onUpdate:modelValue":m[1]||(m[1]=M=>v(a).from_date=M)},null,8,["modelValue"])]),_:1},8,["label"]),ve,e(B,{label:u.$t("reports.profit_loss.to_date")},{default:f(()=>[e(V,{modelValue:v(a).to_date,"onUpdate:modelValue":m[2]||(m[2]=M=>v(a).to_date=M)},null,8,["modelValue"])]),_:1},8,["label"])]),e(r,{variant:"primary-outline",class:"content-center hidden mt-0 w-md md:flex md:mt-8",type:"submit",onClick:z(y,["prevent"])},{default:f(()=>[Q(S(u.$t("reports.update_report")),1)]),_:1},8,["onClick"])]),p("div",be,[p("iframe",{src:v(D),class:"hidden w-full h-screen border-gray-100 border-solid rounded md:flex"},null,8,ke),p("a",{class:"flex items-center justify-center h-10 px-5 py-1 text-sm font-medium leading-none text-center text-white rounded whitespace-nowrap md:hidden bg-primary-500",onClick:P},[e(c,{name:"DocumentTextIcon",class:"h-5 mr-2"}),p("span",null,S(u.$t("reports.view_pdf")),1)])])])}}},ge={class:"grid gap-8 md:grid-cols-12 pt-10"},Ye={class:"col-span-8 md:col-span-4"},De={class:"flex flex-col mt-6 lg:space-x-3 lg:flex-row"},Me=p("div",{class:"hidden w-5 h-0 mx-4 border border-gray-400 border-solid xl:block",style:{"margin-top":"2.5rem"}},null,-1),we={class:"col-span-8"},Be=["src"],Re={setup(j){const g=G();g.downloadReport=h;const{t:Y}=L(),l=U([{label:Y("dateRange.today"),key:"Today"},{label:Y("dateRange.this_week"),key:"This Week"},{label:Y("dateRange.this_month"),key:"This Month"},{label:Y("dateRange.this_quarter"),key:"This Quarter"},{label:Y("dateRange.this_year"),key:"This Year"},{label:Y("dateRange.previous_week"),key:"Previous Week"},{label:Y("dateRange.previous_month"),key:"Previous Month"},{label:Y("dateRange.previous_quarter"),key:"Previous Quarter"},{label:Y("dateRange.previous_year"),key:"Previous Year"},{label:Y("dateRange.custom"),key:"Custom"}]),O=k(l[2]),n=U({from_date:t().startOf("month").format("YYYY-MM-DD").toString(),to_date:t().endOf("month").format("YYYY-MM-DD").toString()});let b=k(null);const $=T(()=>b.value),w=E(),a=T(()=>w.selectedCompany);let D=k(null);N(()=>{D.value=`/reports/tax-summary/${a.value.unique_hash}`,b.value=o.value});const o=T(()=>`${D.value}?from_date=${t(n.from_date).format("YYYY-MM-DD")}&to_date=${t(n.to_date).format("YYYY-MM-DD")}`);let s=k(new Date);F(s.value,u=>{n.from_date=t(u).startOf("year").toString(),n.to_date=t(u).endOf("year").toString()});function d(u,m){return t()[u](m).format("YYYY-MM-DD")}function i(u,m){return t().subtract(1,m)[u](m).format("YYYY-MM-DD")}function x(){switch(O.value.key){case"Today":n.from_date=t().format("YYYY-MM-DD"),n.to_date=t().format("YYYY-MM-DD");break;case"This Week":n.from_date=d("startOf","isoWeek"),n.to_date=d("endOf","isoWeek");break;case"This Month":n.from_date=d("startOf","month"),n.to_date=d("endOf","month");break;case"This Quarter":n.from_date=d("startOf","quarter"),n.to_date=d("endOf","quarter");break;case"This Year":n.from_date=d("startOf","year"),n.to_date=d("endOf","year");break;case"Previous Week":n.from_date=i("startOf","isoWeek"),n.to_date=i("endOf","isoWeek");break;case"Previous Month":n.from_date=i("startOf","month"),n.to_date=i("endOf","month");break;case"Previous Quarter":n.from_date=i("startOf","quarter"),n.to_date=i("endOf","quarter");break;case"Previous Year":n.from_date=i("startOf","year"),n.to_date=i("endOf","year");break}}async function P(){let u=await y();return window.open($.value,"_blank"),u}function y(){return b.value=o.value,!0}function h(){!y(),window.open($.value+"&download=true"),setTimeout(()=>{b.value=o.value},200)}return(u,m)=>{const W=_("BaseMultiselect"),B=_("BaseInputGroup"),V=_("BaseDatePicker"),r=_("BaseButton"),c=_("BaseIcon");return q(),H("div",ge,[p("div",Ye,[e(B,{label:u.$t("reports.taxes.date_range"),class:"col-span-12 md:col-span-8"},{default:f(()=>[e(W,{modelValue:O.value,"onUpdate:modelValue":[m[0]||(m[0]=M=>O.value=M),x],options:v(l),"value-prop":"key","track-by":"key",label:"label",object:""},null,8,["modelValue","options"])]),_:1},8,["label"]),p("div",De,[e(B,{label:u.$t("reports.taxes.from_date")},{default:f(()=>[e(V,{modelValue:v(n).from_date,"onUpdate:modelValue":m[1]||(m[1]=M=>v(n).from_date=M)},null,8,["modelValue"])]),_:1},8,["label"]),Me,e(B,{label:u.$t("reports.taxes.to_date")},{default:f(()=>[e(V,{modelValue:v(n).to_date,"onUpdate:modelValue":m[2]||(m[2]=M=>v(n).to_date=M)},null,8,["modelValue"])]),_:1},8,["label"])]),e(r,{variant:"primary-outline",class:"content-center hidden mt-0 w-md md:flex md:mt-8",type:"submit",onClick:z(y,["prevent"])},{default:f(()=>[Q(S(u.$t("reports.update_report")),1)]),_:1},8,["onClick"])]),p("div",we,[p("iframe",{src:v($),class:"hidden w-full h-screen border-gray-100 border-solid rounded md:flex"},null,8,Be),p("a",{class:"flex items-center justify-center h-10 px-5 py-1 text-sm font-medium leading-none text-center text-white rounded whitespace-nowrap md:hidden bg-primary-500",onClick:P},[e(c,{name:"DocumentTextIcon",class:"h-5 mr-2"}),p("span",null,S(u.$t("reports.view_pdf")),1)])])])}}},Te={setup(j){const g=G();function Y(){g.downloadReport()}return(l,O)=>{const n=_("BaseBreadcrumbItem"),b=_("BaseBreadcrumb"),$=_("BaseIcon"),w=_("BaseButton"),a=_("BasePageHeader"),D=_("BaseTab"),o=_("BaseTabGroup"),s=_("BasePage");return q(),K(s,null,{default:f(()=>[e(a,{title:l.$tc("reports.report",2)},{actions:f(()=>[e(w,{variant:"primary",class:"ml-4",onClick:Y},{left:f(d=>[e($,{name:"DownloadIcon",class:X(d.class)},null,8,["class"])]),default:f(()=>[Q(" "+S(l.$t("reports.download_pdf")),1)]),_:1})]),default:f(()=>[e(b,null,{default:f(()=>[e(n,{title:l.$t("general.home"),to:"/admin/dashboard"},null,8,["title"]),e(n,{title:l.$tc("reports.report",2),to:"/admin/reports",active:""},null,8,["title"])]),_:1})]),_:1},8,["title"]),e(o,{class:"p-2"},{default:f(()=>[e(D,{title:l.$t("reports.sales.sales"),"tab-panel-container":"px-0 py-0"},{default:f(()=>[e(se,{ref:(d,i)=>{i.report=d}},null,512)]),_:1},8,["title"]),e(D,{title:l.$t("reports.profit_loss.profit_loss"),"tab-panel-container":"px-0 py-0"},{default:f(()=>[e(he,{ref:(d,i)=>{i.report=d}},null,512)]),_:1},8,["title"]),e(D,{title:l.$t("reports.expenses.expenses"),"tab-panel-container":"px-0 py-0"},{default:f(()=>[e(pe,{ref:(d,i)=>{i.report=d}},null,512)]),_:1},8,["title"]),e(D,{title:l.$t("reports.taxes.taxes"),"tab-panel-container":"px-0 py-0"},{default:f(()=>[e(Re,{ref:(d,i)=>{i.report=d}},null,512)]),_:1},8,["title"])]),_:1})]),_:1})}}};export{Te as default};
